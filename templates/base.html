<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bulma.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bulma-timeline.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bulma-divider.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/custom.css') }}">
    <script defer src="{{ url_for('static', filename='js/swup.min.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/swup.config.js') }}"></script>
    {% block head %}{% endblock %}
</head>
<body>
    {% include "navbar.html" %}
    <main id="swup" class="transition-fade">
        {% block body %}{% endblock %}
    </main>
    <script>
        function updateSelected(newSelected) {
            if (newSelected.classList.contains("navbar-item"))
                newSelected = newSelected.firstElementChild || newSelected.firstChild;

            const oldSelected = document.querySelector("a > p.navbar-custom-text.navbar-current");
            oldSelected.classList.remove("navbar-current");
            newSelected.classList.add("navbar-current");
        }

        function isNavbarOption() {
            if (!event.target.matches("a > p.navbar-custom-text") ||
                !event.target.matches("a.navbar-item[href]")) return false;
            return true;
        }

        document.addEventListener("click", function(event) {
	        if (isNavbarOption(event.target)) return;

            const newSelected = event.target;
            updateSelected(newSelected);
        });
    </script>
</body>
</html>